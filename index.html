<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Boreal Caribou Survival, Recruitment and Population Growth • bboutools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Boreal Caribou Survival, Recruitment and Population Growth">
<meta property="og:description" content="Estimates annual survival, recruitment and population growth 
    for boreal caribou populations using hierarchical Bayesian models.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">bboutools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9005</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/bbmethods.html">Analytic Methods for Estimation of Boreal Caribou Survival, Recruitment and Population Growth</a>
    </li>
    <li>
      <a href="articles/bbtutorial.html">Getting Started with bboutools</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/poissonconsulting/bboutools/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="bboutools">bboutools<a class="anchor" aria-label="anchor" href="#bboutools"></a>
</h1></div>
<!-- badges: start -->

<p><code>bboutools</code> is an R package to estimate the annual survival, recruitment and population growth for boreal caribou using Bayesian models to facilitate direct comparison of estimates across jurisdictions.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To install the latest development version:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"poissonconsulting/bboutools"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<div class="section level3">
<h3 id="survival">Survival<a class="anchor" aria-label="anchor" href="#survival"></a>
</h3>
<p><code>bboutools</code> accepts survival data for a single population in a specific format.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span> <span class="co"># for printing data frames</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span> <span class="co"># for plotting</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">bboudata</span><span class="op">)</span> <span class="co"># for boreal caribou datasets</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://poissonconsulting.github.io/bboutools/">bboutools</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">surv_data</span> <span class="op">&lt;-</span> <span class="fu">bboudata</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/bboudata/man/bbousurv_a.html" class="external-link">bbousurv_a</a></span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">surv_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span><span class="co">#&gt;   PopulationName  Year Month StartTotal MortalitiesCertain MortalitiesUncertain</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;          &lt;int&gt; &lt;int&gt;      &lt;int&gt;              &lt;int&gt;                &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 A               1986     1          0                  0                    0</span></span>
<span><span class="co">#&gt; 2 A               1986     2          8                  0                    0</span></span>
<span><span class="co">#&gt; 3 A               1986     3          8                  0                    0</span></span>
<span><span class="co">#&gt; 4 A               1986     4          8                  0                    0</span></span>
<span><span class="co">#&gt; 5 A               1986     5          8                  0                    0</span></span>
<span><span class="co">#&gt; 6 A               1986     6          8                  0                    0</span></span></code></pre></div>
<p>The survival model, which includes a random effect of month, is fitted using <code><a href="reference/bb_fit_survival.html">bb_fit_survival()</a></code>. To achieve convergence increase <code>nthin</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">99</span><span class="op">)</span></span>
<span><span class="va">surv_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/bb_fit_survival.html">bb_fit_survival</a></span><span class="op">(</span><span class="va">surv_data</span>, nthin <span class="op">=</span> <span class="fl">1</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://generics.r-lib.org/reference/glance.html" class="external-link">glance</a></span><span class="op">(</span><span class="va">surv_fit</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 8</span></span>
<span><span class="co">#&gt;       n     K nchains niters nthin   ess  rhat converged</span></span>
<span><span class="co">#&gt;   &lt;int&gt; &lt;int&gt;   &lt;int&gt;  &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;lgl&gt;    </span></span>
<span><span class="co">#&gt; 1   363     5       3   1000     1    39  1.90 FALSE</span></span></code></pre></div>
<p>Predictions can then be generated using <code><a href="reference/bb_predict_survival.html">bb_predict_survival()</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">surv_pred</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/bb_predict_survival.html">bb_predict_survival</a></span><span class="op">(</span><span class="va">surv_fit</span><span class="op">)</span></span>
<span><span class="va">surv_pred</span></span>
<span><span class="co">#&gt; # A tibble: 32 × 6</span></span>
<span><span class="co">#&gt;    PopulationName CaribouYear Month estimate lower upper</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                &lt;int&gt; &lt;int&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 A                     1985    NA    0.866 0.763 0.931</span></span>
<span><span class="co">#&gt;  2 A                     1986    NA    0.872 0.802 0.941</span></span>
<span><span class="co">#&gt;  3 A                     1987    NA    0.851 0.684 0.904</span></span>
<span><span class="co">#&gt;  4 A                     1988    NA    0.875 0.816 0.944</span></span>
<span><span class="co">#&gt;  5 A                     1989    NA    0.867 0.785 0.927</span></span>
<span><span class="co">#&gt;  6 A                     1990    NA    0.868 0.798 0.93 </span></span>
<span><span class="co">#&gt;  7 A                     1991    NA    0.87  0.816 0.93 </span></span>
<span><span class="co">#&gt;  8 A                     1992    NA    0.879 0.824 0.941</span></span>
<span><span class="co">#&gt;  9 A                     1993    NA    0.867 0.803 0.919</span></span>
<span><span class="co">#&gt; 10 A                     1994    NA    0.853 0.765 0.899</span></span>
<span><span class="co">#&gt; # ℹ 22 more rows</span></span></code></pre></div>
<p>And plotted using <code><a href="reference/bb_plot_year.html">bb_plot_year()</a></code></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/bb_plot_year_survival.html">bb_plot_year_survival</a></span><span class="op">(</span><span class="va">surv_pred</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/expand_limits.html" class="external-link">expand_limits</a></span><span class="op">(</span>y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-5-1.png"><!-- --></p>
<p>The survival in each month can be plotted using <code><a href="reference/bb_plot_month.html">bb_plot_month()</a></code></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/bb_plot_month_survival.html">bb_plot_month_survival</a></span><span class="op">(</span><span class="va">surv_fit</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-6-1.png"><!-- --></p>
</div>
<div class="section level3">
<h3 id="recruitment">Recruitment<a class="anchor" aria-label="anchor" href="#recruitment"></a>
</h3>
<p>The equivalent functions for recruitment data are</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">recruit_data</span> <span class="op">&lt;-</span> <span class="fu">bboudata</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/bboudata/man/bbourecruit_a.html" class="external-link">bbourecruit_a</a></span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">recruit_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 9</span></span>
<span><span class="co">#&gt;   PopulationName  Year Month   Day  Cows Bulls UnknownAdults Yearlings Calves</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;          &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;         &lt;int&gt;     &lt;int&gt;  &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 A               1990     3     9     1     1             0         0      0</span></span>
<span><span class="co">#&gt; 2 A               1990     3     9     5     1             0         0      0</span></span>
<span><span class="co">#&gt; 3 A               1990     3     9     4     1             0         0      0</span></span>
<span><span class="co">#&gt; 4 A               1990     3     9     2     0             0         0      0</span></span>
<span><span class="co">#&gt; 5 A               1990     3     9     6     0             0         0      0</span></span>
<span><span class="co">#&gt; 6 A               1990     3     9     4     1             0         0      0</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">99</span><span class="op">)</span></span>
<span><span class="va">recruit_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/bb_fit_recruitment.html">bb_fit_recruitment</a></span><span class="op">(</span><span class="va">recruit_data</span>, nthin <span class="op">=</span> <span class="fl">1</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/bb_plot_year_recruitment.html">bb_plot_year_recruitment</a></span><span class="op">(</span><span class="va">recruit_fit</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-7-1.png"><!-- --></p>
</div>
<div class="section level3">
<h3 id="population-growth">Population Growth<a class="anchor" aria-label="anchor" href="#population-growth"></a>
</h3>
<p>The function <code><a href="reference/bb_predict_growth.html">bb_predict_growth()</a></code> predicts the annual population growth (lambda) rate from the survival and recruitment models.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lambda</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/bb_predict_growth.html">bb_predict_growth</a></span><span class="op">(</span><span class="va">surv_fit</span>, <span class="va">recruit_fit</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/bb_plot_year_growth.html">bb_plot_year_growth</a></span><span class="op">(</span><span class="va">lambda</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-8-1.png"><!-- --></p>
</div>
</div>
<div class="section level2">
<h2 id="information">Information<a class="anchor" aria-label="anchor" href="#information"></a>
</h2>
<p>Additional information is available from the <a href="https://poissonconsulting.github.io/bboutools/"><code>bboutools</code> website</a>.</p>
<p>There is also a <a href="https://poissonconsulting.shinyapps.io/bboushiny/" class="external-link">user-friendly graphical interface</a>, called <a href="https://github.com/poissonconsulting/bboushiny" class="external-link"><code>bboushiny</code></a>, for non-R users.</p>
</div>
<div class="section level2">
<h2 id="contribution">Contribution<a class="anchor" aria-label="anchor" href="#contribution"></a>
</h2>
<p>Please report any <a href="https://github.com/poissonconsulting/bboutools/issues" class="external-link">issues</a>.</p>
<p><a href="https://github.com/poissonconsulting/bboutools/pulls" class="external-link">Pull requests</a> are always welcome.</p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the <code>bboutools</code> project is released with a <a href="https://poissonconsulting.github.io/bboutools/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>The code is released under the Apache License 2.0</p>
<p>Copyright 2022 Environment and Climate Change Canada</p>
<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not use this file except in compliance with the License. You may obtain a copy of the License at</p>
<p><a href="https://www.apache.org/licenses/LICENSE-2.0" class="external-link uri">https://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/poissonconsulting/bboutools/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/poissonconsulting/bboutools/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>Apache License (== 2.0) | file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing bboutools</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Seb Dalgarno <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-3658-4517" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Joe Thorley <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-7683-4592" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>John Boulanger <br><small class="roles"> Author </small>  </li>
<li>Ayla Pearson <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/poissonconsulting/bboutools/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/poissonconsulting/bboutools/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/poissonconsulting/bboutools?branch=main" class="external-link"><img src="https://codecov.io/gh/poissonconsulting/bboutools/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Seb Dalgarno, Joe Thorley, John Boulanger, Ayla Pearson.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
